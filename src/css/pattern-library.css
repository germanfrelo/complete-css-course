body:has(.pattern-library) {
	background: var(--color-dark-glare);
}

.pattern-library {
	--wrapper-max-width: 1500px;
	--stroke: 1px solid currentcolor;
}

.pattern-library h1 {
	font-size: var(--size-step-10);
}

.pattern-library svg[role="img"] {
	inline-size: 100%;
	block-size: auto;
}

.pattern-library__header {
	padding-block: var(--space-s);
	padding-inline: 0;
	border-block-end: var(--stroke);
}

.pattern-library__header svg {
	inline-size: 100%;
	block-size: auto;
}

.pattern-library .sidebar {
	--sidebar-target-width: 22rem;
	container-type: inline-size;
	border-block-end: var(--stroke);
}

.pattern-library__sidebar-inner {
	block-size: 100%;
	border-block-end: var(--stroke);
}

/* Switch border when the sidebar wraps */
@container (min-width: 75vw) {
	.pattern-library__sidebar-inner {
		border-block-end: 0;
		border-inline-end: var(--stroke);
	}
}

.pattern-library__sidebar h2 {
	--flow-space: var(--space-l);
	font-size: var(--size-step-6);
}

.pattern-library__swatch {
	inline-size: 40px;
	aspect-ratio: 1/1;
	border: var(--stroke);
	border-radius: var(--radius-m);
}

.pattern-library__preview-frame {
	inline-size: 100%;
	min-block-size: 25rem;
	resize: both;
	border: var(--stroke);
}

.pattern-library .header-anchor {
	font-size: 0.8em;
	text-decoration: none;
}

.pattern-library__nav {
	font-size: var(--size-step-0);
	font-weight: var(--font-bold);
	text-transform: uppercase;
	letter-spacing: var(--uppercase-kerning);
}

.pattern-library__nav a:not(:is([aria-current], :hover)) {
	text-decoration: none;
}

.pattern-library__nav[role="list"] {
	margin-block-start: var(--space-m);
	margin-block-end: var(--space-xl);
}

.pattern-library__toc {
	--gutter: 0.5em;
	display: flex;
	gap: var(--gutter);
	align-items: center;
	padding-block: var(--space-s);
	font-size: var(--size-step-00);
	font-weight: var(--font-bold);
	border-block: var(--stroke);
}

.pattern-library__toc p {
	flex-shrink: 0;
	text-transform: uppercase;
}

.pattern-library__toc ul {
	display: flex;
	padding: 0;
	margin: 0;
	overflow-inline: auto;
	overscroll-behavior: contain;
	list-style: none;
}

.pattern-library__toc li {
	display: flex;
	flex-shrink: 0;
}

.pattern-library__toc li + li {
	/* Overrides a more specific prose style without having to write a horror selector */
	margin: 0 !important;

	&::before {
		display: block;
		margin-inline-end: var(--gutter);
		content: "/";
	}
}

.pattern-library__toc a {
	text-underline-offset: 0.1lh;
}

.pattern-library__nav li + li {
	margin-block-start: 0.45em;
}

.pattern-library__nav [aria-current="page"] {
	font-weight: var(--font-bold);
}

.pattern-library .switcher > * {
	max-inline-size: 100%;
}

.pattern-library .prose {
	padding-block-end: var(--space-2xl);
}
